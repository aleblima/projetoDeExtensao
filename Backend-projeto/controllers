import * as quizService from "../services/quiz.service.js"; // importa as função de lógica (services)


//controlador responsável por retornar as perguntas
export const getQuestions = (req, res) => {
	try {
		const questions quizService.getQuestions(); // pega as perguntas do service
                res.json(questions); // retorna as perguntas em json
	} catch (err) {
		res.status(500).json({ error: "erro ao carregar as perguntas"});
	}
};


//controlador responsável por receber respostas e calcular o resultado
export const submitAnswers = (req, res) => {
	try {
		const { answers } = req.body;// pegar o array anwswers enviado no req.body
		const result = quizService.calculateResult(answers); // passa as respostas pro service que faz o cálculo
		res.json(result); // retorna em formato JSON
	} catch (err) {
		res.status(500).json({ error: "erro ao processar respostas"});
	}
};

//o try e o catch servem pra evitar que sv quebre se der erro em alguma coisa
// o req é tudo que vem do cliente enquanto o res é tudo que vai ser enviado a ele
// quizservicegetquestions é chamar a função que vai buscar as perguntas (tá no service)
// res.json responde em json
